apk installer plugin:

package com.example.installapk;

import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import androidx.core.content.FileProvider;
import com.getcapacitor.JSObject;
import com.getcapacitor.NativePlugin;
import com.getcapacitor.Plugin;
import com.getcapacitor.PluginCall;
import com.getcapacitor.PluginMethod;

import java.io.File;

@NativePlugin()
public class ApkInstaller extends Plugin {

    @PluginMethod()
    public void installApk(PluginCall call) {
        String path = call.getString("path");
        if(path != null) {
            File apkFile = new File(path);
            if(apkFile.exists()) {
                Uri apkURI = FileProvider.getUriForFile(
                    getContext(),
                    getContext().getPackageName() + ".provider",
                    apkFile
                );

                Intent intent = new Intent(Intent.ACTION_VIEW);
                intent.setDataAndType(apkURI, "application/vnd.android.package-archive");
                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);

                startActivity(intent);

                call.success();
            } else {
                call.error("File does not exist");
            }
        } else {
            call.error("No path provided");
        }
    }
}


-------------- typescript bridge
import { registerPlugin } from '@capacitor/core';

const ApkInstaller = registerPlugin('ApkInstaller', {
  web: () => import('./web').then(m => new m.ApkInstallerWeb()),
});

export default ApkInstaller;


--------------- usage
// In your AngularJS controller or service:
$scope.installApk = function() {
  var apkPath = 'path/to/your.apk'; // You'll need to provide the actual APK path here

  // Assuming you've already imported your ApkInstaller plugin:
  ApkInstaller.installApk({ path: apkPath }).then(function() {
    console.log('APK installation intent sent successfully');
  }).catch(function(error) {
    console.error('Failed to send APK installation intent:', error);
  });
};

